@model BuscarClienteViewModel

@{
    IEnumerable<ClienteViewModel> clientes = ViewBag.clientes;
    //TODO Verificar si se tomo en cuenta el bug que levante para los placeholders
    //github.com/aspnet/Mvc/issues/3213
}

<h3>Clientes</h3>

<form asp-action="BuscarClientes" method="get" class="form-horizontal" role="form" id="BuscadorClientes">
    <h4>Buscar cliente</h4>
    <hr />
    <div asp-validation-summary="ValidationSummary.All" class="text-danger"></div>

    <div class="form-group col-md-12">
        <label asp-for="Cedula" class="sr-only"></label>
        <input asp-for="Cedula" placeholder="@Html.DisplayNameFor(model => model.Cedula)" class="form-control" />
    </div>

    <div class="form-group col-md-12">
        <label asp-for="Nombre" class="sr-only"></label>
        <input asp-for="Nombre" placeholder="@Html.DisplayNameFor(model => model.Nombre)" class="form-control" />
    </div>

    <div class="form-group col-md-12">
        <label asp-for="Apellido" class="sr-only"></label>
        <input asp-for="Apellido" placeholder="@Html.DisplayNameFor(model => model.Apellido)" class="form-control" />
    </div>

    <div class="form-group col-md-12">
        <button type="submit" class="btn btn-default">Buscar</button>
    </div>
</form>
<!--TODO Mover esta pagina a una vista partial, al igual que esta tabla, para crear un llamado en cadena
    que se puede utilizar para agregar una busqueda de clientes (Verificar como se mostraria en la pagina de prestamos)-->

<table class="table table-hover">
    <thead>
        <tr>
            <th>Cedula</th>
            <th>Nombre</th>
            <th>Edad</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var cliente in clientes)
        {
            <tr>
                <td>@cliente.Cedula</td>
                <td>@cliente.NombreCompleto</td>
                <td>@cliente.Edad</td>
            </tr>
        }
    </tbody>
</table>


    <environment names="Development">
        <script type="text/javascript" src="~/lib/vue/dist/vue.js"></script>
        <script type="text/javascript" src="~/js/Cliente/buscarClienteViewModel.js"></script>
    </environment>
    <environment names="Staging,Production">
        <script src="http://cdnjs.cloudflare.com/ajax/libs/vue/0.12.15/vue.min.js"
                asp-fallback-src="~/lib/vue/dist/vue.min.js"
                asp-fallback-test="Vue">
        </script>
        <script type="text/javascript" src="~/js/Cliente/buscarClienteViewModel.min.js"></script>
    </environment>
